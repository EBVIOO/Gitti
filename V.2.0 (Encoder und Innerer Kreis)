


void InnereRegelung(float sS1, float sI1,
                    float sS2, float sI2,
                    ReglerState* state)
{
    float Kp = 0.5;  
   
    state->u1 += Kp * (sS1 - sI1);
    state->u2 += Kp * (sS2 - sI2);

    
    if (state->u1 > 255) state->u1 = 255;
    if (state->u1 < 0)   state->u1 = 0;

    if (state->u2 > 255) state->u2 = 255;
    if (state->u2 < 0)   state->u2 = 0;
}
